(()=>{"use strict";var e={662:(e,t,o)=>{let r,l,s,n,a;o.d(t,{LU:()=>h,Ov:()=>r,Qo:()=>i,ls:()=>g,o7:()=>n,v5:()=>d,yV:()=>u});const c=Object.freeze({gain:.5,numSamples:256});new Uint8Array(c.numSamples/2);const i=e=>{const t=window.AudioContext||window.webkitAudioContext;r=new t,l=new Audio,u(e),s=r.createMediaElementSource(l),n=r.createAnalyser(),n.fftSize=c.numSamples,a=r.createGain(),a.gain.value=c.gain,s.connect(n),n.connect(a),a.connect(r.destination)},u=e=>{l.src=e},h=()=>{l.play()},d=()=>{l.pause()},g=e=>{e=Number(e),a.gain.value=e}},278:(e,t,o)=>{o.d(t,{$2:()=>g,KL:()=>a,KO:()=>m,O5:()=>d,hp:()=>n});var r=o(413),l=o(803);let s,n,a,c,i,u,h=0;const d=(e,t)=>{s=e.getContext("2d"),n=e.width,a=e.height,c=r.I0(s,0,0,0,a,[{percent:0,color:"blue"},{percent:.25,color:"green"},{percent:.5,color:"yellow"},{percent:.75,color:"red"},{percent:1,color:"magenta"}]),i=t,u=new Uint8Array(i.fftSize/2)},g=(e={})=>{if(i.getByteFrequencyData(u),s.save(),s.fillStyle="black",s.globalAlpha=.1,s.fillRect(0,0,n,a),s.restore(),h+=1,h>500&&(h=10),e.showGradient&&(s.save(),s.translate(n/2,a/2),s.rotate(h),s.translate(-n/2,-a/2),s.fillStyle=c,s.globalAlpha=.3,s.fillRect(0,0,n,a),s.fillStyle="rgba(184,255,255,.98)",s.fillRect(0,0,n,a),s.restore()),s.save(),e.showLine){const e=30,t=100,o=4,r=a/2;if(s.translate(n/2,a/2),s.rotate(h),s.translate(-n/2,-a/2),!l.Z){s.fillStyle="red",s.save(),s.translate(440,r-170);for(let r of u){let l=r/255;l<.02&&(l=.02),s.translate(e,0),s.rotate(2*Math.PI/32),s.save(),s.scale(1,-1),s.fillStyle=`rgb(${r},${r-128},${255-r})`,s.fillRect(0,0,e,t*l),s.restore(),s.translate(o,10)}s.restore()}s.save(),s.strokeStyle="white",s.lineWidth=3;let c=0,i=r+200;if(s.beginPath(),!l.Z){s.moveTo(c,i);for(let e of u)s.lineTo(c,i-e),c+=s.canvas.width/(u.length-10);s.stroke(),s.closePath()}s.restore()}if(s.restore(),e.showBars){let e=4,t=5,o=(n-u.length*e-2*t)/u.length,r=200,l=100;s.save(),s.fillStyle="rgba(255,255,255,0.50)",s.strokeStyle="rgba(0,0,0,0.5)";for(let n=0;n<u.length;n++)s.fillRect(t+n*(o+e),l+256-u[n],o,r),s.strokeRect(t+n*(o+e),l+256-u[n],o,r);s.restore()}if(e.showCircles){let e=a/4;s.save(),s.globalAlpha=.5;for(let t=0;t<u.length;t++){let o=u[t]/255,l=o*e;p(s,l,0,2,r._b(255,111,111,.34-o/3)),p(s,1.5*l,0,2,r._b(184,0,255,.1-o/10)),p(s,.5*l,0,2,r._b(200,200,255,.5-o/5)),p(s,2*l,0,2,r._b(0,0,0,0),"rgba(255,255,255,1)",10)}s.restore()}let t=s.getImageData(0,0,n,a),o=t.data,d=o.length,g=t.width;for(let t=0;t<d;t++)if(e.showNoise&&Math.random()<.05&&(o[t]=o[t+1]=o[t+2]=0,o[t+1]=200),e.showInvert){let e=o[t],r=o[t+1],l=o[t+2];o[t]=255-e,o[t+1]=255-r,o[t+2]=255-l}if(e.showEmboss)for(let e=0;e<d;e++)e%4!=3&&(o[e]=127+2*o[e]-o[e+4]-o[e+4*g]);s.putImageData(t,0,0),s.save(),s.fillStyle="black",s.globalAlpha=.1,s.fillRect(0,0,n,a),s.restore()},p=(e,t,o,r,l,s="red",c=0)=>{e.save(),e.fillStyle=l,e.strokeStyle=s,e.beginPath(),e.arc(n/2,a/2,t,o,r*Math.PI,!1),e.linewidth=c,e.fill(),e.stroke(),e.closePath(),e.restore()};class m{spritesheetURL="./src/coin_spritesheet.png";constructor(e,t,o,r,l){this.ctx=e,this.spritesheet=t,this.x=o,this.y=r,this.spriteCount=l,this.frame=0,this.preloadImage(this.spritesheetURL)}drawRect(){s.globalAlpha=.3,s.fillStyle="rgba(184,255,255,.98)",s.fillRect(0,0,100,100),console.log("this happedn")}draw(){const e=this.spritesheet.width/this.spriteCount,t=this.spritesheet.height;this.ctx.drawImage(this.spritesheet,this.frame*this.spritesheet.width,0,e,t,this.x,this.y,e,t)}update(){setTimeout((()=>this.update()),100),this.frame=(this.frame+1)%this.spriteCount,this.draw()}preloadImage(e){let t=new Image;t.onload=()=>{this.spritesheet=t,this.update()},t.src=e}}},873:(e,t,o)=>{var r=o(803);window.onload=()=>{console.log("window.onload called"),(()=>{const e=new XMLHttpRequest;e.onload=e=>{console.log(`In onload - HTTP Status Code = ${e.target.status}`);const t=e.target.responseText;let o;try{o=JSON.parse(t)}catch{return void(document.querySelector("#output").innerHTML="Bad JSON!")}const r=o.title=o.title?o.title:"No title Found",l=o.audioFiles,s=o.audioNames,n=o.description,a=o.features;document.querySelector("#title").innerHTML=r,document.querySelector("#titleName").innerHTML=r;const c=document.querySelector("#select-track");for(let e=0;e<l.length;e++)c.options[e].value=l[e],c.options[e].text=s[e];const i=document.querySelector("#description");let u=`${n}\n`;u+="<ul>";for(let e=0;e<a.length;e++)u+=`<li>${a[e]}</li>`;u+="</ul>",console.log(a),i.innerHTML=u},e.onerror=e=>console.log(`In onerror - HTTP Status Code = ${e.target.status}`),e.open("GET","data/av-data.json"),e.send()})(),r.T()}},803:(e,t,o)=>{o.d(t,{T:()=>v,Z:()=>f});var r=o(413),l=o(662),s=o(278);const n={showGradient:!0,showBars:!0,showCircles:!0,showLine:!0,showNoise:!1,showInvert:!1,showEmboss:!1},a=document.querySelector("#cb-circles"),c=document.querySelector("#cb-bars"),i=document.querySelector("#cb-gradient"),u=document.querySelector("#cb-noise"),h=document.querySelector("#cb-invert-colors"),d=document.querySelector("#cb-emboss"),g=document.querySelector("#cb-line");let p,m,w,f,y=s.hp,S=s.KL;const b=Object.freeze({sound1:"media/New Adventure Theme.mp3"}),v=()=>{l.Qo(b.sound1);let e=document.querySelector("canvas");q(e),a.checked=!0,c.checked=!0,i.checked=!0,g.checked=!0;const t=e.getContext("2d");p=new s.KO(t,w,y/4,S/2,13),m=new s.KO(t,w,y/4*3,S/2,13);let o="./src/coin_spritesheet.png";s.O5(e,l.o7),k(),p.preloadImage(o),m.preloadImage(o)},q=e=>{const t=document.querySelector("#btn-fs"),o=document.querySelector("#btn-play");t.onclick=t=>{console.log("goFullscreen() called"),r.gK(e)},o.onclick=e=>{console.log(`audioCtx.state before = ${l.Ov.state}`),"suspended"==l.Ov.state&&l.Ov.resume(),console.log(`audioCtx.state after = ${l.Ov.state}`),"no"==e.target.dataset.playing?(l.LU(),e.target.dataset.playing="yes",f=!1):(l.v5(),e.target.dataset.playing="no",f=!0)};let s=document.querySelector("#slider-volume"),p=document.querySelector("#label-volume");s.oninput=e=>{l.ls(e.target.value),p.innerHTML=Math.round(e.target.value/2*100)},s.dispatchEvent(new Event("input")),document.querySelector("#select-track").onchange=e=>{l.yV(e.target.value),"yes"==o.dataset.playing&&o.dispatchEvent(new MouseEvent("click"))},c.onchange=e=>{n.showBars=r.qS(c)},a.onchange=e=>{n.showCircles=r.qS(a)},i.onchange=e=>{n.showGradient=r.qS(i)},u.onchange=e=>{n.showNoise=r.qS(u)},h.onchange=e=>{n.showInvert=r.qS(h)},d.onchange=e=>{n.showEmboss=r.qS(d)},g.onchange=e=>{n.showLine=r.qS(g)}},k=()=>{setTimeout(k,1e3/60),s.$2(n)}},413:(e,t,o)=>{o.d(t,{I0:()=>l,_b:()=>r,gK:()=>s,qS:()=>n});const r=(e,t,o,r=1)=>`rgba(${e},${t},${o},${r})`,l=(e,t,o,r,l,s)=>{let n=e.createLinearGradient(t,o,r,l);for(let e of s)n.addColorStop(e.percent,e.color);return n},s=e=>{e.requestFullscreen?e.requestFullscreen():e.mozRequestFullscreen?e.mozRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()},n=e=>!!e.checked}},t={};function o(r){var l=t[r];if(void 0!==l)return l.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,o),s.exports}o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o(873),o(803),o(662),o(278),o(413)})();